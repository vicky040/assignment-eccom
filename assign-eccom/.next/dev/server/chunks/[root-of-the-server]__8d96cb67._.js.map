{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/lib/placeholder-images.json"],"sourcesContent":["{\"placeholderImages\":[{\"id\":\"product1\",\"description\":\"A futuristic mug on a desk.\",\"imageUrl\":\"https://images.unsplash.com/photo-1590187487917-1dd90b585d64?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxmdXR1cmlzdGljJTIwbXVnfGVufDB8fHx8MTc2NDMwNjY0MXww&ixlib=rb-4.1.0&q=80&w=1080\",\"imageHint\":\"futuristic mug\"},{\"id\":\"product2\",\"description\":\"A stylish t-shirt with a clock design.\",\"imageUrl\":\"https://images.unsplash.com/photo-1764014353262-ff9a7cbee974?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw1fHxtb2Rlcm4lMjB0LXNoaXJ0fGVufDB8fHx8MTc2NDMwNjY0Mnww&ixlib=rb-4.1.0&q=80&w=1080\",\"imageHint\":\"modern t-shirt\"},{\"id\":\"product3\",\"description\":\"A pair of glowing socks.\",\"imageUrl\":\"https://images.unsplash.com/photo-1734523510021-6a1044b5adfd?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwyfHxnbG93aW5nJTIwc29ja3N8ZW58MHx8fHwxNzY0MzA2NjQxfDA&ixlib=rb-4.1.0&q=80&w=1080\",\"imageHint\":\"glowing socks\"},{\"id\":\"product4\",\"description\":\"A sleek pen floating in the air.\",\"imageUrl\":\"https://images.unsplash.com/photo-1650039744736-fed9d92b994a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw5fHxmbG9hdGluZyUyMHBlbnxlbnwwfHx8fDE3NjQzMDY2NDF8MA&ixlib=rb-4.1.0&q=80&w=1080\",\"imageHint\":\"floating pen\"},{\"id\":\"product5\",\"description\":\"A comfortable hoodie with a space design.\",\"imageUrl\":\"https://images.unsplash.com/photo-1672906674995-84a7a37648c5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw2fHxzcGFjZSUyMGhvb2RpZXxlbnwwfHx8fDE3NjQzMDY2NDJ8MA&ixlib=rb-4.1.0&q=80&w=1080\",\"imageHint\":\"space hoodie\"},{\"id\":\"product6\",\"description\":\"A modern smartwatch displaying data.\",\"imageUrl\":\"https://images.unsplash.com/photo-1662220727289-27d6b2f10a82?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw5fHxzbWFydHdhdGNoJTIwaW50ZXJmYWNlfGVufDB8fHx8MTc2NDMwNjY0MXww&ixlib=rb-4.1.0&q=80&w=1080\",\"imageHint\":\"smartwatch interface\"}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 45, "column": 1997}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nckne/OneDrive/Desktop/assign-eccom/assign-eccom/src/lib/placeholder-images.ts"],"sourcesContent":["import data from './placeholder-images.json';\r\n\r\nexport type ImagePlaceholder = {\r\n  id: string;\r\n  description: string;\r\n  imageUrl: string;\r\n  imageHint: string;\r\n};\r\n\r\nexport const PlaceHolderImages: ImagePlaceholder[] = data.placeholderImages;\r\n"],"names":[],"mappings":";;;;AAAA;;AASO,MAAM,oBAAwC,sHAAI,CAAC,iBAAiB"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nckne/OneDrive/Desktop/assign-eccom/assign-eccom/src/lib/store.ts"],"sourcesContent":["import { Product, CartItem, Order, DiscountCode, AdminStats, Cart, CustomerDetails } from './types';\r\nimport { PlaceHolderImages } from './placeholder-images';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst NTH_ORDER = 2; // Generate discount every 2nd order\r\n\r\n// In-memory data stores\r\nlet products: Product[] = [];\r\nlet cart: Map<string, CartItem> = new Map();\r\nlet appliedDiscountCode: DiscountCode | null = null;\r\nlet orders: Order[] = [];\r\nlet discountCodes: DiscountCode[] = [{\r\n    code: 'SAVE15',\r\n    percentage: 15,\r\n    isUsed: false,\r\n}];\r\n\r\n// Initialize products\r\nif (products.length === 0) {\r\n    products = PlaceHolderImages.map((img, index) => {\r\n        const productNames = [\r\n            \"Quantum-Charged Mug\",\r\n            \"Chrono-Shifting T-Shirt\",\r\n            \"Aether-Infused Socks\",\r\n            \"Zero-Gravity Pen\",\r\n            \"Hyperspace Hoodie\",\r\n            \"Singularity Smartwatch\"\r\n        ];\r\n        const productDescriptions = [\r\n            \"A mug that keeps your coffee at the perfect temperature using quantum entanglement.\",\r\n            \"This t-shirt subtly shifts its design based on the temporal flux. Never wear the same shirt twice.\",\r\n            \"Infused with aether, these socks provide unparalleled comfort and a slight, pleasant hum.\",\r\n            \"A pen that floats slightly above the desk, for when you need a little space to think.\",\r\n            \"A comfortable hoodie that gives you the feeling of gazing into the vastness of space.\",\r\n            \"A modern smartwatch that displays complex data with a touch of elegance and cosmic wonder.\"\r\n        ];\r\n        const prices = [42.00, 55.00, 25.00, 30.00, 95.00, 250.00];\r\n\r\n        return {\r\n            id: `prod_${index + 1}`,\r\n            name: productNames[index],\r\n            description: productDescriptions[index],\r\n            price: prices[index],\r\n            imageUrl: img.imageUrl,\r\n            imageHint: img.imageHint,\r\n        }\r\n    });\r\n}\r\n\r\nfunction getCartState(): Cart {\r\n    const items = Array.from(cart.values());\r\n    const subtotal = items.reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n    let discountAmount = 0;\r\n    if (appliedDiscountCode) {\r\n        discountAmount = subtotal * (appliedDiscountCode.percentage / 100);\r\n    }\r\n    const total = subtotal - discountAmount;\r\n    return {\r\n        items,\r\n        subtotal,\r\n        discountAmount,\r\n        total,\r\n        appliedDiscountCode: appliedDiscountCode?.code || null,\r\n    };\r\n}\r\n\r\nclass CouponCartStore {\r\n    getProducts(): Product[] {\r\n        return products;\r\n    }\r\n\r\n    getCart(): Cart {\r\n        return getCartState();\r\n    }\r\n\r\n    addToCart(productId: string, quantity: number): Cart {\r\n        const product = products.find(p => p.id === productId);\r\n        if (!product) {\r\n            throw new Error('Product not found');\r\n        }\r\n\r\n        if (cart.has(productId)) {\r\n            const existingItem = cart.get(productId)!;\r\n            existingItem.quantity += quantity;\r\n        } else {\r\n            const newCartItem: CartItem = {\r\n                id: product.id,\r\n                name: product.name,\r\n                description: product.description,\r\n                price: product.price,\r\n                imageUrl: product.imageUrl,\r\n                imageHint: product.imageHint,\r\n                quantity: quantity\r\n            };\r\n            cart.set(productId, newCartItem);\r\n        }\r\n        return getCartState();\r\n    }\r\n    \r\n    removeFromCart(productId: string): Cart {\r\n        const item = cart.get(productId);\r\n        if (item) {\r\n            if (item.quantity > 1) {\r\n                item.quantity -= 1;\r\n            } else {\r\n                cart.delete(productId);\r\n            }\r\n        } else {\r\n            throw new Error('Item not in cart');\r\n        }\r\n        return getCartState();\r\n    }\r\n\r\n    clearCart(): Cart {\r\n        cart.clear();\r\n        appliedDiscountCode = null;\r\n        return getCartState();\r\n    }\r\n\r\n    applyDiscount(code: string): Cart {\r\n        const discount = discountCodes.find(d => d.code.toLowerCase() === code.toLowerCase() && !d.isUsed);\r\n        if (!discount) {\r\n            throw new Error('Invalid or used discount code.');\r\n        }\r\n        appliedDiscountCode = discount;\r\n        return getCartState();\r\n    }\r\n\r\n    removeDiscount(): Cart {\r\n        appliedDiscountCode = null;\r\n        return getCartState();\r\n    }\r\n\r\n    createOrder(customerDetails: CustomerDetails): { order: Order; newDiscount?: DiscountCode } {\r\n        const cartState = getCartState();\r\n        if (cartState.items.length === 0) {\r\n            throw new Error('Cannot create an order with an empty cart.');\r\n        }\r\n\r\n        const order: Order = {\r\n            id: uuidv4(),\r\n            items: cartState.items,\r\n            subtotal: cartState.subtotal,\r\n            discountAmount: cartState.discountAmount,\r\n            total: cartState.total,\r\n            appliedDiscountCode: cartState.appliedDiscountCode,\r\n            createdAt: new Date(),\r\n            customerDetails: customerDetails\r\n        };\r\n\r\n        orders.push(order);\r\n\r\n        if (appliedDiscountCode) {\r\n            const codeIndex = discountCodes.findIndex(d => d.code === appliedDiscountCode!.code);\r\n            if (codeIndex !== -1) {\r\n                discountCodes[codeIndex].isUsed = true;\r\n            }\r\n        }\r\n        \r\n        let newDiscount: DiscountCode | undefined;\r\n        // The responsibility for clearing the cart is now moved to the client-side provider\r\n        // this.clearCart() is removed from here.\r\n\r\n        if (orders.length % NTH_ORDER === 0) {\r\n            newDiscount = this.generateNthOrderDiscount(true);\r\n        }\r\n        \r\n        return { order, newDiscount };\r\n    }\r\n\r\n    generateNthOrderDiscount(force: boolean = false): DiscountCode | null {\r\n        if (!force && (orders.length === 0 || orders.length % NTH_ORDER !== 0)) {\r\n            return null;\r\n        }\r\n\r\n        const newDiscount: DiscountCode = {\r\n            code: `SAVE10-${uuidv4().substring(0, 8).toUpperCase()}`,\r\n            percentage: 10,\r\n            isUsed: false\r\n        };\r\n        discountCodes.push(newDiscount);\r\n        return newDiscount;\r\n    }\r\n\r\n    getOrders(): Order[] {\r\n        return [...orders].reverse();\r\n    }\r\n\r\n    getOrderById(orderId: string): Order | null {\r\n        return orders.find(o => o.id === orderId) || null;\r\n    }\r\n\r\n    getAdminStats(): AdminStats {\r\n        const totalAmount = orders.reduce((sum, order) => sum + order.total, 0);\r\n        const itemCount = orders.reduce((sum, order) => sum + order.items.reduce((itemSum, item) => itemSum + item.quantity, 0), 0);\r\n        const totalDiscountAmount = orders.reduce((sum, order) => sum + order.discountAmount, 0);\r\n\r\n        return {\r\n            itemCount,\r\n            totalAmount,\r\n            discountCodes: [...discountCodes].reverse(),\r\n            totalDiscountAmount\r\n        };\r\n    }\r\n}\r\n\r\nexport const store = new CouponCartStore();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nckne/OneDrive/Desktop/assign-eccom/assign-eccom/src/app/api/cart/clear/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { store } from '@/lib/store';\r\n\r\nexport async function POST() {\r\n  try {\r\n    const cart = store.clearCart();\r\n    return NextResponse.json(cart);\r\n  } catch (error) {\r\n    const message = error instanceof Error ? error.message : 'Could not clear cart.';\r\n    return NextResponse.json({ message }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,8HAAK,CAAC,SAAS;QAC5B,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACzD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAQ,GAAG;YAAE,QAAQ;QAAI;IACtD;AACF"}}]
}